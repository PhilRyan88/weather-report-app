<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div class=""></div>
    <script>
      async function getData() {
        const options = {
          method: "GET",
          headers: { accept: "application/json" },
        };
        try {
          const url = await fetch(
            "https://api.tomorrow.io/v4/weather/forecast?location=new%20york&apikey=uZydUHbWwo8HvrKIgkugrSDEpjjmTd9x",
            options
          );
          const data = await url.json();
          console.log(data);
          console.log("the api isn't free anymore");
          var div = document.querySelector("div");
          div.innerHTML = data.location.name;
          data.timelines.daily.map((item) => {
            var p = document.createElement(p);
            p.innerHTML = item;
          });
        } catch (error) {
          console.error(error);
        }
      }
      getData();
    </script>
  </body>
</html>
